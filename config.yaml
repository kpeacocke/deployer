# Example configuration for deploying a Python/Poetry project
repo: "your-user/your-repo"
asset_suffix: ".tar.gz"
check_interval_seconds: 300
install_dir: "/opt/myapp/deployments"
current_symlink: "/opt/myapp/current"

# Run poetry install in the deployment directory after extraction
# This ensures all dependencies are installed before starting the app
run_command: "poetry install --no-dev"

# Post-deploy script to restart the application
# This script runs after the symlink switch and state update
post_deploy_script: "/opt/myapp/scripts/restart-app.sh"

state_file: "/opt/myapp/gh-deployer/state.yaml"

# Optional: verify checksums of downloaded assets (default: false)
# Set to true to require checksums.txt asset in releases
verify_checksums: false
# Optional: health check configuration
# health_check_url: "http://localhost:8000/health"
# health_check_timeout: 30

# Optional: logging configuration
# logging:
#   level: "info"
#   file: "/var/log/gh-deployer/deployer.log"
#   max_size: "100MB"
#   max_backups: 5
#   max_age: 30

# Example configuration for displayboard project:
# repo: "kpeacocke/displayboard"
# asset_suffix: ".tar.gz"
# install_dir: "/opt/displayboard/deployments"
# current_symlink: "/opt/displayboard/current"
# run_command: "poetry install --no-dev"
# post_deploy_script: "/opt/displayboard/scripts/restart-displayboard.sh"
# state_file: "/opt/displayboard/gh-deployer/state.yaml"
